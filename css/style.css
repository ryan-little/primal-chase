/* ===== ROOT VARIABLES ===== */
:root {
  --bg-dark: #1a0f08;
  --bg-darker: #2a1a0e;
  --bg-savannah: #2e1c10;
  --text-primary: #d4883a;
  --text-secondary: #b8944f;
  --text-danger: #c44536;
  --text-safe: #4a7c3f;
  --text-night: #6b8cae;
  --text-gold: #d4a574;
  --border-color: #4a3526;
  --border-light: #5c4433;
}

/* ===== GLOBAL RESET & BASE STYLES ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Georgia, 'Times New Roman', serif;
  background: var(--bg-dark);
  color: var(--text-primary);
  min-height: 100vh;
  line-height: 1.6;
  font-size: 16px;
  overflow-x: hidden;
}

/* ===== ANIMATED LANDSCAPE BACKGROUND ===== */

/* Sky layer — full viewport, behind everything */
.bg-sky {
  position: fixed;
  inset: 0;
  z-index: -10;
  background: linear-gradient(
    180deg,
    #4a6e8a 0%,
    #7a9ab5 30%,
    #c4956a 65%,
    #8b5e3c 85%,
    #3d2517 100%
  );
  transition: background 2s ease;
}

body.night-mode .bg-sky {
  background: linear-gradient(
    180deg,
    #0a0e1a 0%,
    #0f1628 25%,
    #1a2540 50%,
    #1c2035 70%,
    #151020 100%
  );
}

/* Sun — positioned in day sky */
.bg-sun {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  top: 12%;
  left: 15%;
  background: radial-gradient(circle, #fff8e1 0%, #f5d76e 30%, #d4883a 70%, transparent 100%);
  box-shadow:
    0 0 40px rgba(245, 215, 110, 0.6),
    0 0 80px rgba(212, 136, 58, 0.3),
    0 0 120px rgba(212, 136, 58, 0.15);
  opacity: 1;
  transition: opacity 2s ease;
}

body.night-mode .bg-sun {
  opacity: 0;
}

/* Moon — positioned in night sky */
.bg-moon {
  position: absolute;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  top: 10%;
  right: 18%;
  background: radial-gradient(circle at 35% 40%, transparent 38%, #e8eef5 40%, #c8d8e8 60%, #a8b8c8 100%);
  box-shadow:
    0 0 20px rgba(200, 216, 232, 0.4),
    0 0 50px rgba(168, 184, 200, 0.2);
  opacity: 0;
  transition: opacity 2s ease;
}

body.night-mode .bg-moon {
  opacity: 1;
}

/* Distant mountains silhouette */
.bg-mountains {
  position: fixed;
  bottom: 25%;
  left: 0;
  right: 0;
  height: 20%;
  z-index: -9;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 200' preserveAspectRatio='none'%3E%3Cpath d='M0,200 L0,120 Q50,80 100,110 Q150,60 200,90 Q280,30 350,70 Q400,50 450,80 Q520,20 600,60 Q680,30 750,70 Q800,45 850,65 Q920,25 1000,55 Q1050,40 1100,70 Q1150,50 1200,80 L1200,200 Z' fill='%232a1a0e'/%3E%3C/svg%3E") no-repeat bottom center;
  background-size: cover;
  opacity: 0.7;
  transition: opacity 2s ease, filter 2s ease;
}

body.night-mode .bg-mountains {
  opacity: 0.5;
  filter: brightness(0.3);
}

/* Acacia tree silhouettes */
.bg-trees {
  position: fixed;
  bottom: 12%;
  left: 0;
  right: 0;
  height: 30%;
  z-index: -8;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1400 300' preserveAspectRatio='none'%3E%3Cpath d='M150,300 L150,180 L148,180 Q120,170 100,150 Q80,130 90,120 Q100,110 130,115 Q140,105 150,100 Q160,105 170,115 Q200,110 210,120 Q220,130 200,150 Q180,170 152,180 L152,300' fill='%231a0f08'/%3E%3Cpath d='M500,300 L500,200 L498,200 Q460,185 440,165 Q425,145 435,135 Q450,125 480,130 Q490,118 500,110 Q510,118 520,130 Q550,125 565,135 Q575,145 560,165 Q540,185 502,200 L502,300' fill='%231a0f08'/%3E%3Cpath d='M900,300 L900,210 L898,210 Q870,200 855,185 Q840,170 848,160 Q860,150 885,155 Q893,145 900,138 Q907,145 915,155 Q940,150 952,160 Q960,170 945,185 Q930,200 902,210 L902,300' fill='%231a0f08'/%3E%3Cpath d='M1250,300 L1250,190 L1248,190 Q1220,178 1205,160 Q1190,142 1198,132 Q1210,122 1238,128 Q1245,118 1250,112 Q1255,118 1262,128 Q1290,122 1302,132 Q1310,142 1295,160 Q1280,178 1252,190 L1252,300' fill='%231a0f08'/%3E%3C/svg%3E") no-repeat bottom center;
  background-size: cover;
  opacity: 0.6;
  transition: opacity 2s ease, filter 2s ease;
}

body.night-mode .bg-trees {
  opacity: 0.4;
  filter: brightness(0.2);
}

/* Foreground grass with sway animation */
.bg-grass {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 15%;
  z-index: -7;
  background:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 120' preserveAspectRatio='none'%3E%3Cpath d='M0,120 L0,80 Q10,40 15,70 Q20,30 25,65 Q35,20 40,60 Q50,35 55,70 Q65,25 70,65 Q80,40 85,75 Q95,30 100,60 Q110,45 115,75 Q125,20 130,60 Q140,35 145,70 Q155,25 160,65 Q170,40 175,75 Q185,30 190,60 Q200,45 205,75 Q215,20 220,60 Q230,35 235,70 Q245,25 250,65 Q260,40 265,75 Q275,30 280,60 Q290,45 295,75 Q305,20 310,60 Q320,35 325,70 Q335,25 340,65 Q350,40 355,75 Q365,30 370,60 Q380,45 385,75 Q395,20 400,60 Q410,35 415,70 Q425,25 430,65 Q440,40 445,75 Q455,30 460,60 Q470,45 475,75 Q485,20 490,60 Q500,35 505,70 Q515,25 520,65 Q530,40 535,75 Q545,30 550,60 Q560,45 565,75 Q575,20 580,60 Q590,35 595,70 Q605,25 610,65 Q620,40 625,75 Q635,30 640,60 Q650,45 655,75 Q665,20 670,60 Q680,35 685,70 Q695,25 700,65 Q710,40 715,75 Q725,30 730,60 Q740,45 745,75 Q755,20 760,60 Q770,35 775,70 Q785,25 790,65 L800,80 L800,120 Z' fill='%231c1209'/%3E%3C/svg%3E") repeat-x bottom center;
  background-size: 800px 100%;
  animation: grass-sway 8s ease-in-out infinite alternate;
  transition: filter 2s ease;
}

body.night-mode .bg-grass {
  filter: brightness(0.3) hue-rotate(200deg);
}

@keyframes grass-sway {
  0% { transform: translateX(0); }
  100% { transform: translateX(-15px); }
}

/* Night stars overlay */
body.night-mode .bg-sky::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(1px 1px at 10% 15%, rgba(255, 255, 255, 0.7), transparent),
    radial-gradient(1px 1px at 25% 35%, rgba(255, 255, 255, 0.5), transparent),
    radial-gradient(1.5px 1.5px at 40% 10%, rgba(255, 255, 255, 0.8), transparent),
    radial-gradient(1px 1px at 55% 25%, rgba(255, 255, 255, 0.4), transparent),
    radial-gradient(1px 1px at 70% 8%, rgba(255, 255, 255, 0.6), transparent),
    radial-gradient(1.5px 1.5px at 85% 20%, rgba(255, 255, 255, 0.7), transparent),
    radial-gradient(1px 1px at 15% 5%, rgba(255, 255, 255, 0.5), transparent),
    radial-gradient(1px 1px at 60% 18%, rgba(255, 255, 255, 0.4), transparent),
    radial-gradient(1px 1px at 35% 28%, rgba(255, 255, 255, 0.6), transparent),
    radial-gradient(1px 1px at 80% 32%, rgba(255, 255, 255, 0.5), transparent),
    radial-gradient(1px 1px at 92% 5%, rgba(255, 255, 255, 0.7), transparent),
    radial-gradient(1px 1px at 48% 3%, rgba(255, 255, 255, 0.5), transparent);
  animation: star-twinkle 4s ease-in-out infinite alternate;
}

@keyframes star-twinkle {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}

/* ===== SCREEN SYSTEM ===== */
.screen {
  display: none;
  min-height: 100vh;
  padding: 20px 40px;
}

.screen.active {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* ===== TYPEWRITER CINEMATIC INTRO ===== */
.typewriter-overlay {
  position: fixed;
  inset: 0;
  z-index: 200;
  background: #000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.8s ease;
  padding: 2rem;
}

.typewriter-overlay.active {
  opacity: 1;
  pointer-events: all;
}

.typewriter-overlay.fading {
  opacity: 0;
  transition: opacity 1.5s ease;
}

.typewriter-content {
  max-width: 700px;
  width: 100%;
  text-align: left;
}

.typewriter-content p {
  font-family: Georgia, serif;
  font-size: 1.15em;
  line-height: 1.8;
  color: #b8944f;
  margin-bottom: 1.2em;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.typewriter-content p.visible {
  opacity: 1;
}

.typewriter-content p em {
  font-style: italic;
  color: #d4883a;
}

.typewriter-skip {
  position: absolute;
  bottom: 2rem;
  color: rgba(184, 148, 79, 0.4);
  font-family: Georgia, serif;
  font-size: 0.85em;
  letter-spacing: 1px;
  animation: fade-in 1s ease 2s forwards;
  opacity: 0;
}

/* ===== TITLE SCREEN ===== */
.title-container {
  max-width: 900px;
  width: 100%;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2rem;
}

.logo {
  max-width: 70%;
  width: 100%;
  height: auto;
  filter: drop-shadow(0 0 20px rgba(212, 136, 58, 0.4));
  opacity: 0;
  animation: fade-in 1s ease 0.2s forwards;
}

@keyframes fade-in {
  to { opacity: 1; }
}

.title-buttons {
  display: flex;
  flex-direction: row;
  gap: 1.2rem;
  align-items: stretch;
  opacity: 0;
  animation: fade-in 0.8s ease 0.8s forwards;
}

.title-btn {
  background: rgba(26, 15, 8, 0.85);
  color: var(--text-secondary);
  border: 2px solid var(--border-color);
  padding: 1rem 1.8rem;
  font-size: 1em;
  font-family: Georgia, serif;
  cursor: pointer;
  transition: all 0.3s ease;
  min-height: 48px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
  position: relative;
  letter-spacing: 0.5px;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 2px 8px rgba(0, 0, 0, 0.5);
}

.title-btn:hover {
  background: rgba(74, 53, 38, 0.95);
  border-color: var(--text-primary);
  color: var(--text-primary);
  transform: translateY(-2px);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 6px 16px rgba(0, 0, 0, 0.6);
}

.title-btn:active {
  transform: translateY(0);
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.5),
    0 1px 2px rgba(0, 0, 0, 0.4);
}

.title-btn-primary {
  color: var(--text-primary);
  border-color: var(--text-primary);
  font-size: 1.15em;
  font-weight: bold;
  padding: 1.1rem 2.2rem;
  background: rgba(42, 26, 14, 0.9);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 0 15px rgba(212, 136, 58, 0.15),
    0 2px 8px rgba(0, 0, 0, 0.5);
  animation: fade-in 0.8s ease 0.8s forwards, btn-glow 3s ease-in-out 2s infinite alternate;
}

@keyframes btn-glow {
  0% { box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), inset 0 -1px 0 rgba(0,0,0,0.3), 0 0 15px rgba(212,136,58,0.15), 0 2px 8px rgba(0,0,0,0.5); }
  100% { box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), inset 0 -1px 0 rgba(0,0,0,0.3), 0 0 25px rgba(212,136,58,0.3), 0 2px 12px rgba(0,0,0,0.5); }
}

.title-btn-primary:hover {
  background: rgba(74, 53, 38, 1);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.3),
    0 0 30px rgba(212, 136, 58, 0.35),
    0 6px 16px rgba(0, 0, 0, 0.6);
}

/* ===== GAME SCREEN ===== */
#screen-game.active {
  justify-content: flex-start;
  align-items: center;
  padding-top: 20px;
}

.game-container {
  max-width: 1200px;
  width: 100%;
  margin: 0 auto;
  background: rgba(10, 6, 3, 0.8);
  border: none;
  box-shadow: none;
  display: flex;
  flex-direction: column;
  height: calc(100vh - 40px);
}

.game-header {
  text-align: center;
  padding: 0.8rem 1.5rem;
  border-bottom: 2px solid var(--border-color);
  flex-shrink: 0;
}

.phase-indicator {
  font-size: 1.6em;
  font-weight: bold;
  letter-spacing: 2px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
}

.phase-indicator.day {
  color: var(--text-primary);
}

.phase-indicator.night {
  color: var(--text-night);
}

.day-text {
  color: var(--text-primary);
}

.night-text {
  color: var(--text-night);
}

/* ===== GAME TOP: VITALS + SIDEBAR ===== */
.game-top {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
  border-bottom: 2px solid var(--border-color);
  flex-shrink: 0;
}

.vitals-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.5rem;
  padding: 0.8rem 1rem;
  border-right: 1px solid var(--border-color);
}

/* ===== STATUS BARS ===== */
.status-bar-container {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

.status-label {
  font-family: 'Courier New', monospace;
  font-weight: bold;
  color: var(--text-secondary);
  font-size: 0.8em;
  display: flex;
  justify-content: space-between;
}

.status-value {
  font-family: 'Courier New', monospace;
  font-weight: bold;
  font-size: 0.8em;
}

.status-bar-track {
  height: 14px;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--border-color);
  border-radius: 2px;
  overflow: hidden;
}

.status-bar-fill {
  height: 100%;
  transition: width 0.3s ease, background-color 0.3s ease;
}

/* ===== GAME SIDEBAR ===== */
.game-sidebar {
  padding: 0.8rem 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

/* ===== HUNT INFO ===== */
.hunt-info {
  font-family: 'Courier New', monospace;
  font-size: 0.85em;
}

.hunt-distance {
  font-weight: bold;
  color: var(--text-danger);
  margin-bottom: 0.2rem;
}

.hunt-flavor {
  color: var(--text-secondary);
  font-style: italic;
  font-size: 0.9em;
  margin-bottom: 0.3rem;
}

.distance-covered {
  color: var(--text-safe);
  font-size: 0.85em;
}

/* ===== ACTION HISTORY ===== */
.action-history {
  font-family: 'Courier New', monospace;
  font-size: 0.75em;
}

.history-title {
  color: var(--text-gold);
  font-weight: bold;
  font-size: 0.9em;
  margin-bottom: 0.3rem;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.2rem;
}

.history-entry {
  display: flex;
  gap: 0.4rem;
  padding: 0.15rem 0;
  color: var(--text-secondary);
  opacity: 0.8;
}

.history-phase {
  color: var(--text-primary);
  min-width: 2em;
}

.history-phase.night {
  color: var(--text-night);
}

.history-action {
  flex: 1;
}

.history-gap {
  color: var(--text-danger);
  text-align: right;
}

/* ===== SITUATION & MONOLOGUE (SCROLLABLE) ===== */
.situation-scroll {
  flex: 1;
  overflow-y: auto;
  padding: 1rem 1.5rem;
  min-height: 0;
}

.situation-text {
  font-size: 1.05em;
  line-height: 1.7;
  color: var(--text-secondary);
  margin-bottom: 0.8rem;
}

.situation-text p {
  margin-bottom: 0.8em;
}

.outcome-text {
  color: var(--text-primary);
  font-weight: bold;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.8em;
  margin-bottom: 0.8em;
}

.monologue {
  padding-left: 1.2rem;
  border-left: 2px solid var(--text-gold);
  font-style: italic;
  color: var(--text-gold);
  font-size: 1em;
  line-height: 1.6;
  margin-bottom: 0.5rem;
}

/* ===== ACTION BUTTONS (ALWAYS VISIBLE) ===== */
.action-buttons {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0.8rem 1.5rem 1rem;
  border-top: 2px solid var(--border-color);
  background: rgba(10, 6, 3, 0.9);
  flex-shrink: 0;
}

.action-btn {
  background: rgba(42, 26, 14, 0.9);
  color: var(--text-primary);
  border: 2px solid var(--border-color);
  padding: 0.7rem 1rem;
  font-size: 1em;
  font-family: Georgia, serif;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 44px;
  text-align: left;
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

.action-btn:hover {
  background: rgba(74, 53, 38, 1);
  border-color: var(--text-primary);
  transform: translateX(4px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

.action-btn:active {
  transform: translateX(2px);
}

.action-name {
  font-weight: bold;
  font-size: 1.05em;
}

.action-description {
  font-size: 0.85em;
  color: var(--text-secondary);
  font-style: italic;
}

.action-details {
  font-size: 0.8em;
  color: var(--text-secondary);
  font-family: 'Courier New', monospace;
}

.action-cost {
  color: var(--text-danger);
}

.action-gain {
  color: var(--text-safe);
}

/* ===== DEATH SCREEN ===== */
.death-overlay {
  position: fixed;
  inset: 0;
  background: rgba(100, 20, 10, 0);
  z-index: -1;
  transition: background 2s ease;
}

#screen-death.active .death-overlay {
  background: rgba(100, 20, 10, 0.15);
}

.death-container {
  max-width: 700px;
  width: 100%;
  text-align: center;
  background: rgba(10, 6, 3, 0.85);
  padding: 2rem;
  border: 1px solid var(--border-color);
  border-radius: 2px;
  opacity: 0;
  animation: death-fade-in 2s ease 0.5s forwards;
}

@keyframes death-fade-in {
  to { opacity: 1; }
}

.death-narrative {
  font-size: 1.2em;
  line-height: 1.8;
  margin-bottom: 2rem;
  color: var(--text-secondary);
  text-align: left;
}

.death-narrative p {
  margin-bottom: 1em;
}

.score-summary {
  margin-bottom: 2rem;
  padding: 1.5rem;
  background: rgba(0, 0, 0, 0.4);
  border: 2px solid var(--border-color);
  opacity: 0;
  animation: death-fade-in 1s ease 2.5s forwards;
}

.score-summary h2 {
  color: var(--text-primary);
  margin-bottom: 1rem;
  font-size: 1.5em;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
}

.score-stats {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
  margin-bottom: 1rem;
}

.score-stat {
  display: flex;
  justify-content: space-between;
  font-family: 'Courier New', monospace;
  font-size: 1.1em;
}

.score-label {
  color: var(--text-secondary);
}

.score-number {
  color: var(--text-primary);
  font-weight: bold;
}

/* Percentile stats */
.percentile-stats {
  margin-bottom: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
}

.percentile-stat {
  color: var(--text-gold);
  font-family: 'Courier New', monospace;
  font-size: 0.95em;
  margin-bottom: 0.4rem;
}

.achievements-list {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
  text-align: left;
}

.achievements-list h3 {
  color: var(--text-gold);
  font-size: 1.1em;
  margin-bottom: 0.5rem;
}

.achievements-list ul {
  list-style: none;
  padding-left: 0;
}

.achievements-list li {
  color: var(--text-secondary);
  margin-bottom: 0.3rem;
  padding-left: 1.5rem;
  position: relative;
}

.achievements-list li::before {
  content: "\2192";
  position: absolute;
  left: 0;
  color: var(--text-gold);
}

.death-buttons {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
  opacity: 0;
  animation: death-fade-in 1s ease 3.5s forwards;
}

.death-btn {
  background: rgba(42, 26, 14, 0.8);
  color: var(--text-primary);
  border: 2px solid var(--border-color);
  padding: 0.9rem 1.5rem;
  font-size: 1em;
  font-family: Georgia, serif;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 48px;
}

.death-btn:hover {
  background: rgba(74, 53, 38, 0.9);
  border-color: var(--text-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

.death-btn.primary {
  background: rgba(74, 53, 38, 1);
  border-color: var(--text-primary);
  font-weight: bold;
  font-size: 1.1em;
}

.death-btn.primary:hover {
  background: var(--text-primary);
  color: var(--bg-darker);
}

/* ===== LEADERBOARD SCREEN ===== */
.leaderboard-container {
  max-width: 900px;
  width: 100%;
  background: rgba(10, 6, 3, 0.85);
  padding: 2rem;
  border: 1px solid var(--border-color);
  border-radius: 2px;
}

.leaderboard-title {
  text-align: center;
  font-size: 2.2em;
  margin-bottom: 2rem;
  color: var(--text-primary);
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.8);
  letter-spacing: 1px;
}

.leaderboard-table {
  margin-bottom: 2rem;
  overflow-x: auto;
}

.leaderboard-table table {
  width: 100%;
  border-collapse: collapse;
  background: rgba(26, 15, 8, 0.7);
  border: 2px solid var(--border-color);
}

.leaderboard-table th,
.leaderboard-table td {
  padding: 1rem;
  text-align: left;
  border-bottom: 1px solid var(--border-color);
  font-family: 'Courier New', monospace;
}

.leaderboard-table th {
  background: rgba(0, 0, 0, 0.5);
  color: var(--text-primary);
  font-weight: bold;
  font-size: 1.05em;
}

.leaderboard-table td {
  color: var(--text-secondary);
}

.leaderboard-table tr:hover {
  background: rgba(74, 53, 38, 0.3);
}

/* ===== HOW TO PLAY SCREEN ===== */
.howto-container {
  max-width: 800px;
  width: 100%;
  background: rgba(10, 6, 3, 0.85);
  padding: 2rem;
  border: 1px solid var(--border-color);
  border-radius: 2px;
}

.howto-container h1 {
  text-align: center;
  font-size: 2em;
  margin-bottom: 2rem;
  color: var(--text-primary);
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.8);
}

.howto-content {
  background: rgba(26, 15, 8, 0.7);
  border: 2px solid var(--border-color);
  padding: 2rem;
  margin-bottom: 2rem;
}

.howto-content section {
  margin-bottom: 2rem;
}

.howto-content section:last-child {
  margin-bottom: 0;
}

.howto-content h2 {
  color: var(--text-primary);
  font-size: 1.4em;
  margin-bottom: 0.8rem;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
}

.howto-content p {
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 0.8em;
}

.howto-content ul {
  list-style: none;
  padding-left: 0;
}

.howto-content li {
  color: var(--text-secondary);
  margin-bottom: 0.8rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;
}

.howto-content li::before {
  content: "\2022";
  position: absolute;
  left: 0;
  color: var(--text-primary);
  font-size: 1.2em;
}

.howto-content strong {
  color: var(--text-primary);
}

/* ===== BACK BUTTON ===== */
.back-btn {
  background: rgba(42, 26, 14, 0.8);
  color: var(--text-primary);
  border: 2px solid var(--border-color);
  padding: 1rem 2rem;
  font-size: 1.1em;
  font-family: Georgia, serif;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 48px;
  display: block;
  margin: 0 auto;
}

.back-btn:hover {
  background: rgba(74, 53, 38, 0.9);
  border-color: var(--text-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
}

.back-btn:active {
  transform: translateY(0);
}

/* ===== RESPONSIVE: TABLET ===== */
@media (max-width: 768px) {
  body {
    font-size: 14px;
  }

  .game-container {
    height: auto;
    min-height: calc(100vh - 20px);
  }

  /* Stack vitals and sidebar vertically on tablet */
  .game-top {
    grid-template-columns: 1fr;
  }

  .vitals-grid {
    border-right: none;
    border-bottom: 1px solid var(--border-color);
  }

  .situation-scroll {
    max-height: none;
    overflow-y: visible;
  }

  /* Sticky action buttons on mobile */
  .action-buttons {
    position: sticky;
    bottom: 0;
    z-index: 50;
  }

  .title-buttons {
    flex-direction: column;
    gap: 0.8rem;
  }

  .title-btn-primary {
    order: -1;
  }

  .logo {
    max-width: 70%;
  }

  .phase-indicator {
    font-size: 1.4em;
  }

  .howto-content {
    padding: 1.5rem;
  }
}

/* ===== RESPONSIVE: MOBILE ===== */
@media (max-width: 480px) {
  .screen {
    padding: 10px;
  }

  .logo {
    max-width: 85%;
  }

  .title-btn,
  .death-btn,
  .back-btn {
    padding: 0.8rem 1.5rem;
    font-size: 1em;
  }

  .phase-indicator {
    font-size: 1.2em;
  }

  .vitals-grid {
    grid-template-columns: 1fr 1fr;
    gap: 0.4rem;
    padding: 0.6rem;
  }

  .status-label {
    font-size: 0.75em;
  }

  .status-value {
    font-size: 0.75em;
  }

  .status-bar-track {
    height: 10px;
  }

  .game-sidebar {
    padding: 0.6rem;
  }

  .hunt-info {
    font-size: 0.8em;
  }

  .action-history {
    font-size: 0.7em;
  }

  .situation-scroll {
    padding: 0.8rem;
  }

  .situation-text,
  .monologue {
    font-size: 0.95em;
  }

  .action-buttons {
    padding: 0.6rem;
    gap: 0.4rem;
  }

  .action-btn {
    padding: 0.6rem 0.8rem;
    font-size: 0.95em;
  }

  .howto-content {
    padding: 1rem;
  }

  .howto-content h2 {
    font-size: 1.2em;
  }

  .leaderboard-table th,
  .leaderboard-table td {
    padding: 0.7rem 0.5rem;
    font-size: 0.85em;
  }
}

/* ===== UTILITY CLASSES ===== */
.hidden {
  display: none !important;
}

.text-center {
  text-align: center;
}

/* Scrollbar styling for situation-scroll */
.situation-scroll::-webkit-scrollbar {
  width: 6px;
}

.situation-scroll::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
}

.situation-scroll::-webkit-scrollbar-thumb {
  background: var(--border-color);
  border-radius: 3px;
}

.situation-scroll::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}
